<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Global thresholding for image binarization">
  <title>Global Thresholding</title>
  <desc>Visualization of global thresholding technique for converting grayscale images to binary</desc>

  <defs>
    <linearGradient id="threshBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#threshBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Global Thresholding</text>

  <!-- Original Image -->
  <g transform="translate(30, 60)">
    <rect x="0" y="0" width="200" height="170" fill="white" rx="8" stroke="#666" stroke-width="2"/>
    <text x="100" y="22" fill="#333" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Original Grayscale</text>

    <g transform="translate(30, 35)">
      <rect x="0" y="0" width="140" height="110" fill="#888" rx="4"/>
      <!-- Varying intensities -->
      <rect x="10" y="10" width="50" height="40" fill="#333" rx="2"/>
      <rect x="70" y="10" width="60" height="40" fill="#bbb" rx="2"/>
      <circle cx="50" cy="80" r="25" fill="#555"/>
      <rect x="85" y="60" width="45" height="40" fill="#ddd" rx="2"/>
    </g>

    <text x="100" y="162" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Intensity range: 0-255</text>
  </g>

  <!-- Arrow -->
  <g transform="translate(240, 130)">
    <text x="0" y="0" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="24">→</text>
    <text x="-10" y="25" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="10">T = 127</text>
  </g>

  <!-- Binary Result -->
  <g transform="translate(290, 60)">
    <rect x="0" y="0" width="200" height="170" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="100" y="22" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Binary Output</text>

    <g transform="translate(30, 35)">
      <rect x="0" y="0" width="140" height="110" fill="white" stroke="#ddd" rx="4"/>
      <!-- Binary regions -->
      <rect x="10" y="10" width="50" height="40" fill="black" rx="2"/>
      <rect x="70" y="10" width="60" height="40" fill="white" stroke="#ddd" rx="2"/>
      <circle cx="50" cy="80" r="25" fill="black"/>
      <rect x="85" y="60" width="45" height="40" fill="white" stroke="#ddd" rx="2"/>
    </g>

    <text x="100" y="162" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Values: 0 or 255</text>
  </g>

  <!-- Histogram with threshold -->
  <g transform="translate(520, 60)">
    <rect x="0" y="0" width="300" height="170" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="150" y="22" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Histogram &amp; Threshold</text>

    <g transform="translate(30, 40)">
      <!-- Axes -->
      <line x1="0" y1="100" x2="240" y2="100" stroke="#333" stroke-width="1"/>
      <line x1="0" y1="0" x2="0" y2="100" stroke="#333" stroke-width="1"/>

      <!-- Histogram bars (bimodal distribution) -->
      <g fill="#3b82f6" opacity="0.6">
        <rect x="10" y="50" width="8" height="50"/>
        <rect x="20" y="30" width="8" height="70"/>
        <rect x="30" y="15" width="8" height="85"/>
        <rect x="40" y="25" width="8" height="75"/>
        <rect x="50" y="40" width="8" height="60"/>
        <rect x="60" y="60" width="8" height="40"/>
        <rect x="70" y="75" width="8" height="25"/>
        <rect x="80" y="85" width="8" height="15"/>
        <rect x="90" y="90" width="8" height="10"/>
        <rect x="100" y="92" width="8" height="8"/>
        <rect x="110" y="90" width="8" height="10"/>
        <rect x="120" y="85" width="8" height="15"/>
        <rect x="130" y="75" width="8" height="25"/>
        <rect x="140" y="60" width="8" height="40"/>
        <rect x="150" y="45" width="8" height="55"/>
        <rect x="160" y="30" width="8" height="70"/>
        <rect x="170" y="20" width="8" height="80"/>
        <rect x="180" y="35" width="8" height="65"/>
        <rect x="190" y="55" width="8" height="45"/>
        <rect x="200" y="70" width="8" height="30"/>
        <rect x="210" y="80" width="8" height="20"/>
      </g>

      <!-- Threshold line -->
      <line x1="120" y1="0" x2="120" y2="100" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,3"/>
      <text x="120" y="115" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">T = 127</text>

      <!-- Labels -->
      <text x="0" y="115" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">0</text>
      <text x="230" y="115" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">255</text>
      <text x="-15" y="55" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" transform="rotate(-90, -15, 55)">Count</text>

      <!-- Legend -->
      <rect x="140" y="-5" width="30" height="12" fill="black"/>
      <text x="175" y="5" fill="#666" font-family="Segoe UI, sans-serif" font-size="7">&lt; T</text>
      <rect x="200" y="-5" width="30" height="12" fill="white" stroke="#333"/>
      <text x="235" y="5" fill="#666" font-family="Segoe UI, sans-serif" font-size="7">≥ T</text>
    </g>
  </g>

  <!-- Formula and Code -->
  <g transform="translate(30, 250)">
    <rect x="0" y="0" width="400" height="120" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="200" y="22" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Thresholding Formula</text>

    <g transform="translate(20, 40)">
      <rect x="0" y="0" width="360" height="35" fill="#f5f3ff" rx="4"/>
      <text x="180" y="15" fill="#333" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="middle">g(x, y) = </text>
      <text x="180" y="30" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="middle">255 if f(x, y) ≥ T,  0 otherwise</text>
    </g>

    <g transform="translate(20, 85)">
      <rect x="0" y="0" width="360" height="25" fill="#1e293b" rx="4"/>
      <text x="10" y="17" fill="#a78bfa" font-family="Consolas, monospace" font-size="10">_, binary = cv2.threshold(gray, 127, 255, cv2.THRESH_BINARY)</text>
    </g>
  </g>

  <!-- Threshold Types -->
  <g transform="translate(450, 250)">
    <rect x="0" y="0" width="370" height="120" fill="white" rx="8" stroke="#f97316" stroke-width="2"/>
    <text x="185" y="22" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">OpenCV Threshold Types</text>

    <g transform="translate(15, 40)">
      <!-- Types grid -->
      <g font-family="Segoe UI, sans-serif" font-size="9">
        <g transform="translate(0, 0)">
          <rect x="0" y="0" width="105" height="30" fill="#fff7ed" rx="3"/>
          <text x="52" y="13" fill="#f97316" font-weight="600" text-anchor="middle">THRESH_BINARY</text>
          <text x="52" y="25" fill="#666" text-anchor="middle">Standard binary</text>
        </g>
        <g transform="translate(115, 0)">
          <rect x="0" y="0" width="105" height="30" fill="#fff7ed" rx="3"/>
          <text x="52" y="13" fill="#f97316" font-weight="600" text-anchor="middle">THRESH_BINARY_INV</text>
          <text x="52" y="25" fill="#666" text-anchor="middle">Inverted binary</text>
        </g>
        <g transform="translate(230, 0)">
          <rect x="0" y="0" width="105" height="30" fill="#fff7ed" rx="3"/>
          <text x="52" y="13" fill="#f97316" font-weight="600" text-anchor="middle">THRESH_TRUNC</text>
          <text x="52" y="25" fill="#666" text-anchor="middle">Truncate at T</text>
        </g>
        <g transform="translate(0, 40)">
          <rect x="0" y="0" width="105" height="30" fill="#fff7ed" rx="3"/>
          <text x="52" y="13" fill="#f97316" font-weight="600" text-anchor="middle">THRESH_TOZERO</text>
          <text x="52" y="25" fill="#666" text-anchor="middle">Zero below T</text>
        </g>
        <g transform="translate(115, 40)">
          <rect x="0" y="0" width="105" height="30" fill="#fff7ed" rx="3"/>
          <text x="52" y="13" fill="#f97316" font-weight="600" text-anchor="middle">THRESH_TOZERO_INV</text>
          <text x="52" y="25" fill="#666" text-anchor="middle">Zero above T</text>
        </g>
        <g transform="translate(230, 40)">
          <rect x="0" y="0" width="105" height="30" fill="#d1fae5" rx="3"/>
          <text x="52" y="13" fill="#10b981" font-weight="600" text-anchor="middle">THRESH_OTSU</text>
          <text x="52" y="25" fill="#666" text-anchor="middle">Auto threshold</text>
        </g>
      </g>
    </g>
  </g>
</svg>
