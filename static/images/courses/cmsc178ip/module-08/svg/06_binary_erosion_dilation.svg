<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Binary erosion and dilation morphological operations">
  <title>Erosion and Dilation</title>
  <desc>Visualization of fundamental morphological operations: erosion (shrinking) and dilation (expanding) of binary images</desc>

  <defs>
    <linearGradient id="morphBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#morphBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Morphological Operations: Erosion &amp; Dilation</text>

  <!-- Erosion -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="400" height="165" fill="white" rx="8" stroke="#ef4444" stroke-width="2"/>
    <text x="200" y="22" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Erosion (Shrinks foreground)</text>

    <g transform="translate(20, 40)">
      <!-- Original -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="100" height="80" fill="#f8f9fa" stroke="#ddd" rx="4"/>
        <rect x="25" y="15" width="50" height="50" fill="#333" rx="2"/>
        <text x="50" y="95" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Original</text>
      </g>

      <!-- Arrow with SE -->
      <g transform="translate(115, 25)">
        <text x="0" y="20" fill="#333" font-family="Segoe UI, sans-serif" font-size="20">→</text>
        <rect x="25" y="5" width="30" height="30" fill="#ef4444" opacity="0.3" stroke="#ef4444" rx="2"/>
        <g fill="#ef4444">
          <rect x="30" y="10" width="8" height="8"/>
          <rect x="40" y="10" width="8" height="8"/>
          <rect x="30" y="20" width="8" height="8"/>
          <rect x="40" y="20" width="8" height="8"/>
        </g>
        <text x="40" y="50" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">3×3 SE</text>
      </g>

      <!-- Eroded result -->
      <g transform="translate(175, 0)">
        <rect x="0" y="0" width="100" height="80" fill="#f8f9fa" stroke="#ddd" rx="4"/>
        <rect x="30" y="20" width="40" height="40" fill="#333" rx="2"/>
        <!-- Show shrinkage -->
        <rect x="25" y="15" width="50" height="50" fill="none" stroke="#ef4444" stroke-dasharray="3,2" rx="2"/>
        <text x="50" y="95" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Eroded</text>
      </g>

      <!-- Description -->
      <g transform="translate(290, 5)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" font-weight="600">Effect:</text>
        <text x="0" y="15" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Removes boundary pixels</text>
        <text x="0" y="28" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Removes small objects</text>
        <text x="0" y="41" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Separates touching objects</text>
        <text x="0" y="58" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="8" font-weight="600">Min operation</text>
      </g>
    </g>

    <!-- Formula -->
    <rect x="20" y="135" width="360" height="22" fill="#fef2f2" rx="3"/>
    <text x="200" y="150" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">A ⊖ B = {z | (B)_z ⊆ A}  —  All SE positions that fit inside A</text>
  </g>

  <!-- Dilation -->
  <g transform="translate(445, 55)">
    <rect x="0" y="0" width="375" height="165" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="187" y="22" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Dilation (Expands foreground)</text>

    <g transform="translate(20, 40)">
      <!-- Original -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="90" height="80" fill="#f8f9fa" stroke="#ddd" rx="4"/>
        <rect x="25" y="20" width="40" height="40" fill="#333" rx="2"/>
        <text x="45" y="95" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Original</text>
      </g>

      <!-- Arrow with SE -->
      <g transform="translate(100, 25)">
        <text x="0" y="20" fill="#333" font-family="Segoe UI, sans-serif" font-size="20">→</text>
        <rect x="25" y="5" width="30" height="30" fill="#10b981" opacity="0.3" stroke="#10b981" rx="2"/>
        <g fill="#10b981">
          <rect x="30" y="10" width="8" height="8"/>
          <rect x="40" y="10" width="8" height="8"/>
          <rect x="30" y="20" width="8" height="8"/>
          <rect x="40" y="20" width="8" height="8"/>
        </g>
        <text x="40" y="50" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">3×3 SE</text>
      </g>

      <!-- Dilated result -->
      <g transform="translate(160, 0)">
        <rect x="0" y="0" width="90" height="80" fill="#f8f9fa" stroke="#ddd" rx="4"/>
        <rect x="20" y="15" width="50" height="50" fill="#333" rx="2"/>
        <!-- Show expansion -->
        <rect x="25" y="20" width="40" height="40" fill="none" stroke="#10b981" stroke-dasharray="3,2" rx="2"/>
        <text x="45" y="95" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Dilated</text>
      </g>

      <!-- Description -->
      <g transform="translate(265, 5)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" font-weight="600">Effect:</text>
        <text x="0" y="15" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Adds boundary pixels</text>
        <text x="0" y="28" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Fills small holes</text>
        <text x="0" y="41" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Connects nearby objects</text>
        <text x="0" y="58" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="8" font-weight="600">Max operation</text>
      </g>
    </g>

    <!-- Formula -->
    <rect x="15" y="135" width="345" height="22" fill="#d1fae5" rx="3"/>
    <text x="187" y="150" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">A ⊕ B = {z | (B̂)_z ∩ A ≠ ∅}  —  SE touches any foreground pixel</text>
  </g>

  <!-- Pixel-level operation -->
  <g transform="translate(30, 235)">
    <rect x="0" y="0" width="530" height="140" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="265" y="22" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Pixel-Level Operation</text>

    <!-- Erosion pixel detail -->
    <g transform="translate(30, 45)">
      <text x="85" y="0" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Erosion</text>
      <g transform="translate(0, 10)">
        <!-- 5x5 region -->
        <g fill="#333">
          <rect x="0" y="0" width="17" height="17"/>
          <rect x="17" y="0" width="17" height="17"/>
          <rect x="34" y="0" width="17" height="17"/>
          <rect x="51" y="0" width="17" height="17"/>
          <rect x="68" y="0" width="17" height="17"/>
          <rect x="85" y="0" width="17" height="17"/>
          <rect x="102" y="0" width="17" height="17"/>
          <rect x="119" y="0" width="17" height="17"/>
          <rect x="136" y="0" width="17" height="17"/>
          <rect x="153" y="0" width="17" height="17"/>
        </g>
        <g fill="white">
          <rect x="17" y="17" width="17" height="17"/>
          <rect x="34" y="17" width="17" height="17"/>
          <rect x="51" y="17" width="17" height="17"/>
          <rect x="68" y="17" width="17" height="17"/>
          <rect x="85" y="17" width="17" height="17"/>
          <rect x="102" y="17" width="17" height="17"/>
          <rect x="119" y="17" width="17" height="17"/>
          <rect x="136" y="17" width="17" height="17"/>
        </g>
        <g fill="#333">
          <rect x="0" y="17" width="17" height="17"/>
          <rect x="153" y="17" width="17" height="17"/>
          <rect x="0" y="34" width="17" height="17"/>
          <rect x="17" y="34" width="17" height="17"/>
          <rect x="136" y="34" width="17" height="17"/>
          <rect x="153" y="34" width="17" height="17"/>
          <rect x="0" y="51" width="17" height="17"/>
          <rect x="17" y="51" width="17" height="17"/>
          <rect x="136" y="51" width="17" height="17"/>
          <rect x="153" y="51" width="17" height="17"/>
          <rect x="0" y="68" width="17" height="17"/>
          <rect x="17" y="68" width="17" height="17"/>
          <rect x="34" y="68" width="17" height="17"/>
          <rect x="51" y="68" width="17" height="17"/>
          <rect x="68" y="68" width="17" height="17"/>
          <rect x="85" y="68" width="17" height="17"/>
          <rect x="102" y="68" width="17" height="17"/>
          <rect x="119" y="68" width="17" height="17"/>
          <rect x="136" y="68" width="17" height="17"/>
          <rect x="153" y="68" width="17" height="17"/>
        </g>
        <!-- SE position that fails -->
        <rect x="34" y="34" width="51" height="51" fill="none" stroke="#ef4444" stroke-width="2"/>
        <text x="60" y="62" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">SE</text>
      </g>
      <text x="85" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">All under SE must be foreground</text>
    </g>

    <!-- Dilation pixel detail -->
    <g transform="translate(290, 45)">
      <text x="100" y="0" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Dilation</text>
      <g transform="translate(15, 10)">
        <!-- Same shape -->
        <g fill="white">
          <rect x="0" y="0" width="17" height="17"/>
          <rect x="17" y="0" width="17" height="17"/>
          <rect x="34" y="0" width="17" height="17"/>
          <rect x="51" y="0" width="17" height="17"/>
          <rect x="68" y="0" width="17" height="17"/>
          <rect x="85" y="0" width="17" height="17"/>
          <rect x="102" y="0" width="17" height="17"/>
          <rect x="119" y="0" width="17" height="17"/>
          <rect x="136" y="0" width="17" height="17"/>
          <rect x="153" y="0" width="17" height="17"/>
        </g>
        <g fill="#333">
          <rect x="34" y="17" width="17" height="17"/>
          <rect x="51" y="17" width="17" height="17"/>
          <rect x="68" y="17" width="17" height="17"/>
          <rect x="85" y="17" width="17" height="17"/>
          <rect x="102" y="17" width="17" height="17"/>
          <rect x="119" y="17" width="17" height="17"/>
          <rect x="34" y="34" width="17" height="17"/>
          <rect x="51" y="34" width="17" height="17"/>
          <rect x="102" y="34" width="17" height="17"/>
          <rect x="119" y="34" width="17" height="17"/>
          <rect x="34" y="51" width="17" height="17"/>
          <rect x="51" y="51" width="17" height="17"/>
          <rect x="102" y="51" width="17" height="17"/>
          <rect x="119" y="51" width="17" height="17"/>
          <rect x="34" y="68" width="17" height="17"/>
          <rect x="51" y="68" width="17" height="17"/>
          <rect x="68" y="68" width="17" height="17"/>
          <rect x="85" y="68" width="17" height="17"/>
          <rect x="102" y="68" width="17" height="17"/>
          <rect x="119" y="68" width="17" height="17"/>
        </g>
        <!-- SE position touching foreground -->
        <rect x="0" y="17" width="51" height="51" fill="none" stroke="#10b981" stroke-width="2"/>
        <text x="25" y="45" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">SE</text>
      </g>
      <text x="100" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Any under SE is foreground → add</text>
    </g>
  </g>

  <!-- Code -->
  <g transform="translate(575, 235)">
    <rect x="0" y="0" width="245" height="140" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="122" y="22" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">OpenCV Code</text>

    <g transform="translate(10, 38)">
      <rect x="0" y="0" width="225" height="90" fill="#1e293b" rx="4"/>
      <text x="10" y="15" fill="#a78bfa" font-family="Consolas, monospace" font-size="8"># Structuring element</text>
      <text x="10" y="28" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">kernel = np.ones((3,3), np.uint8)</text>
      <text x="10" y="45" fill="#a78bfa" font-family="Consolas, monospace" font-size="8"># Erosion</text>
      <text x="10" y="58" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">erosion = cv2.erode(img, kernel)</text>
      <text x="10" y="75" fill="#a78bfa" font-family="Consolas, monospace" font-size="8"># Dilation</text>
      <text x="10" y="88" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">dilation = cv2.dilate(img, kernel)</text>
    </g>
  </g>
</svg>
