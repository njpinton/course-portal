<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Morphological gradient for edge detection">
  <title>Morphological Gradient</title>
  <desc>Edge detection using morphological operations: gradient is the difference between dilation and erosion</desc>

  <defs>
    <linearGradient id="mgBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#mgBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Morphological Gradient</text>

  <!-- Main formula and visualization -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="790" height="175" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="395" y="22" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Gradient = Dilation - Erosion (Edge Detection)</text>

    <g transform="translate(30, 45)">
      <!-- Original -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="100" height="90" fill="#f8f9fa" stroke="#ddd" rx="4"/>
        <rect x="25" y="20" width="50" height="50" fill="#333" rx="3"/>
        <text x="50" y="105" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Original</text>
      </g>

      <!-- Equals -->
      <text x="115" y="55" fill="#333" font-family="Segoe UI, sans-serif" font-size="16">→</text>

      <!-- Dilation -->
      <g transform="translate(135, 0)">
        <rect x="0" y="0" width="100" height="90" fill="#d1fae5" stroke="#10b981" rx="4"/>
        <rect x="20" y="15" width="60" height="60" fill="#333" rx="3"/>
        <text x="50" y="105" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Dilated</text>
      </g>

      <!-- Minus -->
      <text x="250" y="55" fill="#333" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600">−</text>

      <!-- Erosion -->
      <g transform="translate(275, 0)">
        <rect x="0" y="0" width="100" height="90" fill="#fef2f2" stroke="#ef4444" rx="4"/>
        <rect x="30" y="25" width="40" height="40" fill="#333" rx="3"/>
        <text x="50" y="105" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Eroded</text>
      </g>

      <!-- Equals -->
      <text x="390" y="55" fill="#333" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600">=</text>

      <!-- Result (edge) -->
      <g transform="translate(415, 0)">
        <rect x="0" y="0" width="100" height="90" fill="#1a1a2e" rx="4"/>
        <!-- Edge outline only -->
        <rect x="20" y="15" width="60" height="60" fill="none" stroke="white" stroke-width="8"/>
        <rect x="30" y="25" width="40" height="40" fill="#1a1a2e"/>
        <text x="50" y="105" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle" font-weight="600">Gradient (Edges)</text>
      </g>

      <!-- Description -->
      <g transform="translate(540, 10)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600">Result shows:</text>
        <text x="0" y="18" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Object boundaries</text>
        <text x="0" y="33" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Edge thickness = 2×SE</text>
        <text x="0" y="48" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Works on binary/grayscale</text>

        <rect x="0" y="60" width="200" height="25" fill="#dbeafe" rx="3"/>
        <text x="100" y="76" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle" font-weight="600">grad(f) = δ(f) − ε(f)</text>
      </g>
    </g>
  </g>

  <!-- Gradient variants -->
  <g transform="translate(30, 245)">
    <rect x="0" y="0" width="530" height="130" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="265" y="22" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Gradient Variants</text>

    <g transform="translate(20, 45)">
      <!-- Basic gradient -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="155" height="65" fill="#f5f3ff" rx="4"/>
        <text x="77" y="18" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Basic Gradient</text>
        <text x="77" y="35" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">δ(f) − ε(f)</text>
        <text x="77" y="52" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Full edge (outer + inner)</text>
      </g>

      <!-- External gradient -->
      <g transform="translate(170, 0)">
        <rect x="0" y="0" width="155" height="65" fill="#d1fae5" rx="4"/>
        <text x="77" y="18" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">External Gradient</text>
        <text x="77" y="35" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">δ(f) − f</text>
        <text x="77" y="52" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Outer edge only</text>
      </g>

      <!-- Internal gradient -->
      <g transform="translate(340, 0)">
        <rect x="0" y="0" width="155" height="65" fill="#fef2f2" rx="4"/>
        <text x="77" y="18" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Internal Gradient</text>
        <text x="77" y="35" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">f − ε(f)</text>
        <text x="77" y="52" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Inner edge only</text>
      </g>
    </g>
  </g>

  <!-- Code -->
  <g transform="translate(575, 245)">
    <rect x="0" y="0" width="245" height="130" fill="white" rx="8" stroke="#f97316" stroke-width="2"/>
    <text x="122" y="22" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">OpenCV Code</text>

    <g transform="translate(10, 38)">
      <rect x="0" y="0" width="225" height="80" fill="#1e293b" rx="4"/>
      <text x="10" y="15" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">kernel = cv2.getStructuringElement(</text>
      <text x="20" y="28" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">cv2.MORPH_RECT, (3, 3))</text>
      <text x="10" y="45" fill="#a78bfa" font-family="Consolas, monospace" font-size="8"># Morphological gradient</text>
      <text x="10" y="58" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">grad = cv2.morphologyEx(img,</text>
      <text x="20" y="71" fill="#a78bfa" font-family="Consolas, monospace" font-size="8">cv2.MORPH_GRADIENT, kernel)</text>
    </g>
  </g>
</svg>
