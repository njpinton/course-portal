<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Multi-scale morphological segmentation">
  <title>Multi-Scale Segmentation</title>
  <desc>Using multiple structuring element sizes for multi-scale morphological analysis and segmentation</desc>

  <defs>
    <linearGradient id="msBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#msBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Multi-Scale Morphological Analysis</text>

  <!-- Scale concept -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="400" height="165" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="200" y="22" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Structuring Element Scales</text>

    <g transform="translate(30, 45)">
      <!-- Small SE -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="80" height="80" fill="#dbeafe" rx="4" stroke="#3b82f6"/>
        <g transform="translate(27, 27)">
          <rect x="0" y="0" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="8" y="0" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="16" y="0" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="0" y="8" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="8" y="8" width="8" height="8" fill="#1d4ed8" stroke="white"/>
          <rect x="16" y="8" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="0" y="16" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="8" y="16" width="8" height="8" fill="#3b82f6" stroke="white"/>
          <rect x="16" y="16" width="8" height="8" fill="#3b82f6" stroke="white"/>
        </g>
        <text x="40" y="95" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">3×3</text>
        <text x="40" y="108" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Fine details</text>
      </g>

      <!-- Medium SE -->
      <g transform="translate(110, 0)">
        <rect x="0" y="0" width="80" height="80" fill="#d1fae5" rx="4" stroke="#10b981"/>
        <g transform="translate(15, 15)">
          <rect x="0" y="0" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="10" y="0" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="20" y="0" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="30" y="0" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="40" y="0" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="0" y="10" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="10" y="10" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="20" y="10" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="30" y="10" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="40" y="10" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="0" y="20" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="10" y="20" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="20" y="20" width="10" height="10" fill="#059669" stroke="white"/>
          <rect x="30" y="20" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="40" y="20" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="0" y="30" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="10" y="30" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="20" y="30" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="30" y="30" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="40" y="30" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="0" y="40" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="10" y="40" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="20" y="40" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="30" y="40" width="10" height="10" fill="#10b981" stroke="white"/>
          <rect x="40" y="40" width="10" height="10" fill="#10b981" stroke="white"/>
        </g>
        <text x="40" y="95" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">5×5</text>
        <text x="40" y="108" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Medium</text>
      </g>

      <!-- Large SE -->
      <g transform="translate(220, 0)">
        <rect x="0" y="0" width="80" height="80" fill="#f5f3ff" rx="4" stroke="#7c3aed"/>
        <ellipse cx="40" cy="40" rx="35" ry="35" fill="#7c3aed" opacity="0.6"/>
        <circle cx="40" cy="40" r="3" fill="#6d28d9"/>
        <text x="40" y="95" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">11×11</text>
        <text x="40" y="108" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Coarse features</text>
      </g>

      <!-- Arrow showing progression -->
      <g transform="translate(315, 30)">
        <text x="0" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">Scale</text>
        <text x="0" y="20" fill="#333" font-family="Segoe UI, sans-serif" font-size="16">→</text>
      </g>
    </g>
  </g>

  <!-- Multi-scale analysis example -->
  <g transform="translate(445, 55)">
    <rect x="0" y="0" width="375" height="165" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="187" y="22" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Multi-Scale Opening Results</text>

    <g transform="translate(20, 42)">
      <!-- Original -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="70" height="70" fill="#666" rx="4"/>
        <circle cx="20" cy="20" r="6" fill="#ddd"/>
        <circle cx="50" cy="25" r="12" fill="#ccc"/>
        <rect x="10" y="45" width="50" height="18" fill="#bbb" rx="2"/>
        <text x="35" y="85" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Original</text>
      </g>

      <!-- Small scale result -->
      <g transform="translate(85, 0)">
        <rect x="0" y="0" width="70" height="70" fill="#666" rx="4"/>
        <circle cx="50" cy="25" r="12" fill="#ccc"/>
        <rect x="10" y="45" width="50" height="18" fill="#bbb" rx="2"/>
        <text x="35" y="85" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">3×3 open</text>
        <text x="35" y="97" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">Small removed</text>
      </g>

      <!-- Medium scale result -->
      <g transform="translate(170, 0)">
        <rect x="0" y="0" width="70" height="70" fill="#666" rx="4"/>
        <rect x="10" y="45" width="50" height="18" fill="#bbb" rx="2"/>
        <text x="35" y="85" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">7×7 open</text>
        <text x="35" y="97" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">Medium removed</text>
      </g>

      <!-- Large scale result -->
      <g transform="translate(255, 0)">
        <rect x="0" y="0" width="70" height="70" fill="#666" rx="4"/>
        <text x="35" y="85" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">15×15 open</text>
        <text x="35" y="97" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">All removed</text>
      </g>
    </g>
  </g>

  <!-- Granulometry -->
  <g transform="translate(30, 235)">
    <rect x="0" y="0" width="400" height="140" fill="white" rx="8" stroke="#f97316" stroke-width="2"/>
    <text x="200" y="22" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Granulometry (Size Distribution)</text>

    <g transform="translate(25, 45)">
      <!-- Size distribution graph -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="180" height="80" fill="#f8f9fa" rx="4"/>
        <!-- Axes -->
        <line x1="30" y1="70" x2="170" y2="70" stroke="#333" stroke-width="1"/>
        <line x1="30" y1="10" x2="30" y2="70" stroke="#333" stroke-width="1"/>
        <!-- Bars (size distribution) -->
        <rect x="40" y="55" width="15" height="15" fill="#f97316"/>
        <rect x="60" y="35" width="15" height="35" fill="#f97316"/>
        <rect x="80" y="20" width="15" height="50" fill="#f97316"/>
        <rect x="100" y="30" width="15" height="40" fill="#f97316"/>
        <rect x="120" y="45" width="15" height="25" fill="#f97316"/>
        <rect x="140" y="60" width="15" height="10" fill="#f97316"/>
        <!-- Labels -->
        <text x="100" y="90" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">SE size</text>
        <text x="15" y="45" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" transform="rotate(-90, 15, 45)">Count</text>
      </g>

      <!-- Description -->
      <g transform="translate(200, 5)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" font-weight="600">Application:</text>
        <text x="0" y="18" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Measure particle sizes</text>
        <text x="0" y="33" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Texture analysis</text>
        <text x="0" y="48" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Material science</text>
        <text x="0" y="63" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Quality control</text>
      </g>
    </g>
  </g>

  <!-- Code -->
  <g transform="translate(445, 235)">
    <rect x="0" y="0" width="375" height="140" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="187" y="22" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Multi-Scale Implementation</text>

    <g transform="translate(15, 38)">
      <rect x="0" y="0" width="345" height="90" fill="#1e293b" rx="4"/>
      <text x="10" y="15" fill="#a78bfa" font-family="Consolas, monospace" font-size="9"># Multi-scale opening</text>
      <text x="10" y="30" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">sizes = [3, 5, 7, 9, 11, 15, 21]</text>
      <text x="10" y="45" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">for size in sizes:</text>
      <text x="20" y="60" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">kernel = cv2.getStructuringElement(</text>
      <text x="30" y="73" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">cv2.MORPH_ELLIPSE, (size, size))</text>
      <text x="20" y="86" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">opened = cv2.morphologyEx(img, cv2.MORPH_OPEN, kernel)</text>
    </g>
  </g>
</svg>
