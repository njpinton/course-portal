<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Connected component analysis for object extraction">
  <title>Object Extraction</title>
  <desc>Using connected component analysis and morphological operations for object extraction and labeling</desc>

  <defs>
    <linearGradient id="objBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#objBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Object Extraction &amp; Connected Components</text>

  <!-- Pipeline -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="790" height="165" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="395" y="22" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Object Extraction Pipeline</text>

    <g transform="translate(25, 40)">
      <!-- Original grayscale -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="110" height="90" fill="#666" rx="4"/>
        <ellipse cx="35" cy="35" rx="20" ry="18" fill="#999"/>
        <rect x="60" cy="50" width="30" height="25" fill="#888"/>
        <circle cx="80" cy="70" r="12" fill="#aaa"/>
        <text x="55" y="105" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Grayscale</text>
      </g>

      <!-- Arrow -->
      <g transform="translate(125, 30)">
        <text x="0" y="15" fill="#333" font-family="Segoe UI, sans-serif" font-size="14">→</text>
        <text x="-5" y="35" fill="#666" font-family="Segoe UI, sans-serif" font-size="7">Threshold</text>
      </g>

      <!-- Binary -->
      <g transform="translate(165, 0)">
        <rect x="0" y="0" width="110" height="90" fill="white" stroke="#ddd" rx="4"/>
        <ellipse cx="35" cy="35" rx="20" ry="18" fill="#333"/>
        <rect x="60" cy="50" width="30" height="25" fill="#333"/>
        <circle cx="80" cy="70" r="12" fill="#333"/>
        <!-- Noise -->
        <rect x="10" y="75" width="5" height="5" fill="#333"/>
        <rect x="95" y="15" width="6" height="6" fill="#333"/>
        <text x="55" y="105" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Binary</text>
      </g>

      <!-- Arrow -->
      <g transform="translate(290, 30)">
        <text x="0" y="15" fill="#333" font-family="Segoe UI, sans-serif" font-size="14">→</text>
        <text x="-5" y="35" fill="#666" font-family="Segoe UI, sans-serif" font-size="7">Morph clean</text>
      </g>

      <!-- Cleaned -->
      <g transform="translate(330, 0)">
        <rect x="0" y="0" width="110" height="90" fill="white" stroke="#ddd" rx="4"/>
        <ellipse cx="35" cy="35" rx="20" ry="18" fill="#333"/>
        <rect x="60" cy="50" width="30" height="25" fill="#333"/>
        <circle cx="80" cy="70" r="12" fill="#333"/>
        <text x="55" y="105" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Cleaned</text>
      </g>

      <!-- Arrow -->
      <g transform="translate(455, 30)">
        <text x="0" y="15" fill="#333" font-family="Segoe UI, sans-serif" font-size="14">→</text>
        <text x="-12" y="35" fill="#666" font-family="Segoe UI, sans-serif" font-size="7">Connected comp</text>
      </g>

      <!-- Labeled -->
      <g transform="translate(505, 0)">
        <rect x="0" y="0" width="110" height="90" fill="#1a1a2e" rx="4"/>
        <ellipse cx="35" cy="35" rx="20" ry="18" fill="#3b82f6"/>
        <text x="35" y="39" fill="white" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">1</text>
        <rect x="60" cy="50" width="30" height="25" fill="#10b981"/>
        <text x="75" y="66" fill="white" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">2</text>
        <circle cx="80" cy="70" r="12" fill="#f97316"/>
        <text x="80" y="74" fill="white" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">3</text>
        <text x="55" y="105" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle" font-weight="600">Labeled</text>
      </g>

      <!-- Properties -->
      <g transform="translate(635, 5)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="9" font-weight="600">Per object:</text>
        <text x="0" y="15" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Area (pixels)</text>
        <text x="0" y="28" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Centroid (x, y)</text>
        <text x="0" y="41" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Bounding box</text>
        <text x="0" y="54" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Perimeter</text>
        <text x="0" y="67" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">• Orientation</text>
      </g>
    </g>
  </g>

  <!-- Connectivity types -->
  <g transform="translate(30, 235)">
    <rect x="0" y="0" width="350" height="140" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="175" y="22" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Connectivity Types</text>

    <g transform="translate(25, 45)">
      <!-- 4-connectivity -->
      <g transform="translate(0, 0)">
        <text x="55" y="0" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">4-Connected</text>
        <g transform="translate(10, 10)">
          <rect x="30" y="0" width="20" height="20" fill="#10b981"/>
          <rect x="0" y="20" width="20" height="20" fill="#e5e7eb"/>
          <rect x="20" y="20" width="20" height="20" fill="#10b981"/>
          <rect x="40" y="20" width="20" height="20" fill="#e5e7eb"/>
          <rect x="60" y="20" width="20" height="20" fill="#10b981"/>
          <rect x="30" y="40" width="20" height="20" fill="#10b981"/>
        </g>
        <text x="55" y="80" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Horizontal/vertical</text>
      </g>

      <!-- 8-connectivity -->
      <g transform="translate(160, 0)">
        <text x="55" y="0" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">8-Connected</text>
        <g transform="translate(10, 10)">
          <rect x="30" y="0" width="20" height="20" fill="#7c3aed"/>
          <rect x="0" y="20" width="20" height="20" fill="#7c3aed"/>
          <rect x="20" y="20" width="20" height="20" fill="#7c3aed"/>
          <rect x="40" y="20" width="20" height="20" fill="#7c3aed"/>
          <rect x="60" y="20" width="20" height="20" fill="#7c3aed"/>
          <rect x="30" y="40" width="20" height="20" fill="#7c3aed"/>
        </g>
        <text x="55" y="80" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">+ Diagonals</text>
      </g>
    </g>
  </g>

  <!-- Code and filtering -->
  <g transform="translate(395, 235)">
    <rect x="0" y="0" width="425" height="140" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="212" y="22" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">OpenCV Implementation</text>

    <g transform="translate(15, 38)">
      <rect x="0" y="0" width="395" height="90" fill="#1e293b" rx="4"/>
      <text x="10" y="15" fill="#a78bfa" font-family="Consolas, monospace" font-size="9"># Connected components with stats</text>
      <text x="10" y="30" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">n, labels, stats, centroids = cv2.connectedComponentsWithStats(binary)</text>
      <text x="10" y="48" fill="#a78bfa" font-family="Consolas, monospace" font-size="9"># stats columns: LEFT, TOP, WIDTH, HEIGHT, AREA</text>
      <text x="10" y="63" fill="#a78bfa" font-family="Consolas, monospace" font-size="9"># Filter by area</text>
      <text x="10" y="78" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">large_objects = stats[stats[:, cv2.CC_STAT_AREA] > min_area]</text>
    </g>
  </g>
</svg>
