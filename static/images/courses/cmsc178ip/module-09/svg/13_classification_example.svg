<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="End-to-end image classification example">
  <title>Classification Example</title>
  <desc>Complete image classification pipeline from input image through CNN to class prediction with confidence scores</desc>

  <defs>
    <linearGradient id="classBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#classBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Image Classification: End-to-End Example</text>

  <!-- Pipeline -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="790" height="165" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>

    <g transform="translate(20, 25)">
      <!-- Input image -->
      <g transform="translate(0, 0)">
        <text x="45" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Input</text>
        <rect x="0" y="10" width="90" height="90" fill="#e5e7eb" rx="4" stroke="#666"/>
        <!-- Dog image -->
        <ellipse cx="45" cy="50" rx="30" ry="25" fill="#d4a574"/>
        <ellipse cx="30" cy="35" rx="10" ry="15" fill="#c9956e"/>
        <ellipse cx="60" cy="35" rx="10" ry="15" fill="#c9956e"/>
        <circle cx="35" cy="50" r="5" fill="#333"/>
        <circle cx="55" cy="50" r="5" fill="#333"/>
        <ellipse cx="45" cy="62" rx="8" ry="5" fill="#333"/>
        <text x="45" y="115" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">224×224×3</text>
      </g>

      <!-- Arrow -->
      <path d="M95,55 L115,55" stroke="#666" stroke-width="1.5" fill="none"/>
      <polygon points="115,51 123,55 115,59" fill="#666"/>

      <!-- CNN block -->
      <g transform="translate(130, 5)">
        <rect x="0" y="0" width="200" height="105" fill="#dbeafe" rx="6" stroke="#3b82f6"/>
        <text x="100" y="20" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">CNN Feature Extractor</text>

        <!-- Conv layers representation -->
        <g transform="translate(20, 30)">
          <rect x="0" y="0" width="40" height="55" fill="#93c5fd" rx="3" stroke="#3b82f6"/>
          <text x="20" y="35" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">Conv</text>
        </g>

        <g transform="translate(50, 35)">
          <rect x="0" y="0" width="35" height="45" fill="#93c5fd" rx="3" stroke="#3b82f6"/>
          <text x="17" y="28" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">Conv</text>
        </g>

        <g transform="translate(95, 40)">
          <rect x="0" y="0" width="30" height="35" fill="#93c5fd" rx="3" stroke="#3b82f6"/>
          <text x="15" y="22" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">Conv</text>
        </g>

        <g transform="translate(135, 45)">
          <rect x="0" y="0" width="25" height="25" fill="#93c5fd" rx="3" stroke="#3b82f6"/>
          <text x="12" y="16" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="6" text-anchor="middle">Conv</text>
        </g>

        <text x="100" y="98" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">VGG-16 / ResNet / etc.</text>
      </g>

      <!-- Arrow -->
      <path d="M335,55 L355,55" stroke="#666" stroke-width="1.5" fill="none"/>
      <polygon points="355,51 363,55 355,59" fill="#666"/>

      <!-- Feature vector -->
      <g transform="translate(370, 10)">
        <text x="20" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Features</text>
        <rect x="0" y="10" width="40" height="85" fill="#d1fae5" rx="4" stroke="#10b981"/>
        <g transform="translate(8, 20)" font-family="Consolas, monospace" font-size="7" fill="#10b981">
          <text x="0" y="0">0.82</text>
          <text x="0" y="12">0.15</text>
          <text x="0" y="24">0.94</text>
          <text x="0" y="36">...</text>
          <text x="0" y="48">0.67</text>
          <text x="0" y="60">0.23</text>
        </g>
        <text x="20" y="108" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">512-dim</text>
      </g>

      <!-- Arrow -->
      <path d="M415,55 L435,55" stroke="#666" stroke-width="1.5" fill="none"/>
      <polygon points="435,51 443,55 435,59" fill="#666"/>

      <!-- FC + Softmax -->
      <g transform="translate(450, 15)">
        <rect x="0" y="0" width="80" height="85" fill="#f5f3ff" rx="6" stroke="#7c3aed"/>
        <text x="40" y="18" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="9" font-weight="600" text-anchor="middle">Classifier</text>
        <rect x="10" y="28" width="60" height="22" fill="white" stroke="#7c3aed" rx="3"/>
        <text x="40" y="43" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">FC Layer</text>
        <rect x="10" y="55" width="60" height="22" fill="white" stroke="#7c3aed" rx="3"/>
        <text x="40" y="70" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Softmax</text>
      </g>

      <!-- Arrow -->
      <path d="M535,55 L555,55" stroke="#666" stroke-width="1.5" fill="none"/>
      <polygon points="555,51 563,55 555,59" fill="#666"/>

      <!-- Output probabilities -->
      <g transform="translate(570, 0)">
        <text x="85" y="5" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Predictions</text>
        <rect x="0" y="15" width="170" height="95" fill="white" rx="6" stroke="#ef4444" stroke-width="2"/>

        <!-- Class bars -->
        <g transform="translate(10, 25)" font-family="Segoe UI, sans-serif" font-size="9">
          <!-- Dog - highest -->
          <text x="0" y="10" fill="#333">Dog</text>
          <rect x="45" y="0" width="100" height="14" fill="#fef2f2" rx="2"/>
          <rect x="45" y="0" width="92" height="14" fill="#ef4444" rx="2"/>
          <text x="147" y="10" fill="#ef4444" font-weight="600">92%</text>

          <!-- Cat -->
          <text x="0" y="30" fill="#333">Cat</text>
          <rect x="45" y="20" width="100" height="14" fill="#f1f5f9" rx="2"/>
          <rect x="45" y="20" width="5" height="14" fill="#94a3b8" rx="2"/>
          <text x="147" y="30" fill="#666">5%</text>

          <!-- Wolf -->
          <text x="0" y="50" fill="#333">Wolf</text>
          <rect x="45" y="40" width="100" height="14" fill="#f1f5f9" rx="2"/>
          <rect x="45" y="40" width="2" height="14" fill="#94a3b8" rx="2"/>
          <text x="147" y="50" fill="#666">2%</text>

          <!-- Other -->
          <text x="0" y="70" fill="#333">Other</text>
          <rect x="45" y="60" width="100" height="14" fill="#f1f5f9" rx="2"/>
          <rect x="45" y="60" width="1" height="14" fill="#94a3b8" rx="2"/>
          <text x="147" y="70" fill="#666">1%</text>
        </g>
      </g>
    </g>
  </g>

  <!-- Prediction details -->
  <g transform="translate(30, 235)">
    <rect x="0" y="0" width="390" height="140" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="195" y="22" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Understanding the Output</text>

    <g transform="translate(15, 40)" font-family="Segoe UI, sans-serif" font-size="9">
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="175" height="40" fill="#d1fae5" rx="4"/>
        <text x="10" y="15" fill="#10b981" font-weight="600">Softmax Output</text>
        <text x="10" y="30" fill="#666" font-size="8">All probabilities sum to 1.0</text>
      </g>

      <g transform="translate(185, 0)">
        <rect x="0" y="0" width="175" height="40" fill="#dbeafe" rx="4"/>
        <text x="10" y="15" fill="#3b82f6" font-weight="600">Predicted Class</text>
        <text x="10" y="30" fill="#666" font-size="8">argmax(probabilities) = Dog</text>
      </g>

      <g transform="translate(0, 50)">
        <rect x="0" y="0" width="175" height="40" fill="#f5f3ff" rx="4"/>
        <text x="10" y="15" fill="#7c3aed" font-weight="600">Confidence Score</text>
        <text x="10" y="30" fill="#666" font-size="8">92% confident it's a dog</text>
      </g>

      <g transform="translate(185, 50)">
        <rect x="0" y="0" width="175" height="40" fill="#fef3c7" rx="4"/>
        <text x="10" y="15" fill="#f97316" font-weight="600">Top-K Predictions</text>
        <text x="10" y="30" fill="#666" font-size="8">Often report top-5 classes</text>
      </g>
    </g>
  </g>

  <!-- Metrics -->
  <g transform="translate(435, 235)">
    <rect x="0" y="0" width="385" height="140" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="192" y="22" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Evaluation Metrics</text>

    <g transform="translate(15, 40)">
      <!-- Accuracy -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="115" height="85" fill="#f8f9fa" rx="4"/>
        <text x="57" y="18" fill="#333" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Accuracy</text>
        <text x="57" y="40" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">94.5%</text>
        <text x="57" y="58" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Correct / Total</text>
        <text x="57" y="72" fill="#999" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">(Top-1 accuracy)</text>
      </g>

      <!-- Precision -->
      <g transform="translate(125, 0)">
        <rect x="0" y="0" width="115" height="85" fill="#f8f9fa" rx="4"/>
        <text x="57" y="18" fill="#333" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Precision</text>
        <text x="57" y="40" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">96.2%</text>
        <text x="57" y="58" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">TP / (TP + FP)</text>
        <text x="57" y="72" fill="#999" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">How many correct?</text>
      </g>

      <!-- Recall -->
      <g transform="translate(250, 0)">
        <rect x="0" y="0" width="115" height="85" fill="#f8f9fa" rx="4"/>
        <text x="57" y="18" fill="#333" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Recall</text>
        <text x="57" y="40" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">93.1%</text>
        <text x="57" y="58" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">TP / (TP + FN)</text>
        <text x="57" y="72" fill="#999" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">How many found?</text>
      </g>
    </g>
  </g>
</svg>
