<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Perspective correction for documents and photos">
  <title>Perspective Correction</title>
  <desc>Application of homography for correcting perspective distortion in document and building photos</desc>

  <defs>
    <linearGradient id="perspBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
    <marker id="perspArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
  </defs>

  <rect width="850" height="400" fill="url(#perspBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Perspective Correction</text>
  <text x="425" y="52" fill="#666" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle">Using homography to rectify perspective distortion</text>

  <!-- Document scanning example -->
  <g transform="translate(30, 75)">
    <rect x="0" y="0" width="390" height="295" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="195" y="25" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Document Scanning</text>

    <!-- Distorted document -->
    <g transform="translate(30, 45)">
      <text x="55" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Camera photo</text>
      <polygon points="10,20 100,10 110,130 0,125" fill="#f5f5f5" stroke="#666" stroke-width="1"/>
      <!-- Text lines (skewed) -->
      <g fill="#333" opacity="0.6">
        <line x1="18" y1="35" x2="92" y2="28" stroke="#333" stroke-width="3"/>
        <line x1="16" y1="50" x2="94" y2="45" stroke="#333" stroke-width="3"/>
        <line x1="14" y1="65" x2="96" y2="62" stroke="#333" stroke-width="3"/>
        <line x1="12" y1="80" x2="98" y2="78" stroke="#333" stroke-width="3"/>
        <line x1="10" y1="95" x2="100" y2="95" stroke="#333" stroke-width="3"/>
      </g>
      <!-- Corner markers -->
      <circle cx="10" cy="20" r="4" fill="#ef4444"/>
      <circle cx="100" cy="10" r="4" fill="#ef4444"/>
      <circle cx="110" cy="130" r="4" fill="#ef4444"/>
      <circle cx="0" cy="125" r="4" fill="#ef4444"/>
      <text x="55" y="155" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">4 corner points detected</text>
    </g>

    <!-- Process box -->
    <g transform="translate(145, 80)">
      <rect x="0" y="0" width="90" height="70" fill="#dbeafe" rx="4"/>
      <text x="45" y="20" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600" text-anchor="middle">Compute H</text>
      <text x="45" y="38" fill="#333" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Map corners</text>
      <text x="45" y="50" fill="#333" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">to rectangle</text>
      <text x="45" y="62" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">cv2.getPerspective</text>
    </g>

    <!-- Arrow -->
    <line x1="240" y1="115" x2="260" y2="115" stroke="#10b981" stroke-width="2" marker-end="url(#perspArrow)"/>

    <!-- Corrected document -->
    <g transform="translate(270, 45)">
      <text x="50" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Corrected</text>
      <rect x="0" y="10" width="100" height="130" fill="#fff" stroke="#10b981" stroke-width="2"/>
      <!-- Text lines (straight) -->
      <g fill="#333">
        <line x1="10" y1="30" x2="90" y2="30" stroke="#333" stroke-width="3"/>
        <line x1="10" y1="50" x2="90" y2="50" stroke="#333" stroke-width="3"/>
        <line x1="10" y1="70" x2="90" y2="70" stroke="#333" stroke-width="3"/>
        <line x1="10" y1="90" x2="90" y2="90" stroke="#333" stroke-width="3"/>
        <line x1="10" y1="110" x2="90" y2="110" stroke="#333" stroke-width="3"/>
      </g>
      <text x="50" y="155" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Flat scan ready for OCR</text>
    </g>

    <!-- Code snippet -->
    <g transform="translate(20, 210)">
      <rect x="0" y="0" width="350" height="70" fill="#1e293b" rx="4"/>
      <text x="10" y="18" fill="#94a3b8" font-family="Consolas, monospace" font-size="9"># OpenCV perspective correction</text>
      <text x="10" y="33" fill="#22d3ee" font-family="Consolas, monospace" font-size="9">pts_src = np.float32([[10,20], [100,10], ...])</text>
      <text x="10" y="48" fill="#22d3ee" font-family="Consolas, monospace" font-size="9">pts_dst = np.float32([[0,0], [w,0], [w,h], [0,h]])</text>
      <text x="10" y="63" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">H = cv2.getPerspectiveTransform(pts_src, pts_dst)</text>
    </g>
  </g>

  <!-- Building/photo example -->
  <g transform="translate(435, 75)">
    <rect x="0" y="0" width="390" height="295" fill="white" rx="8" stroke="#f97316" stroke-width="2"/>
    <text x="195" y="25" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Architectural Photography</text>

    <!-- Distorted building -->
    <g transform="translate(30, 45)">
      <text x="55" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Keystone distortion</text>
      <!-- Building with converging verticals -->
      <polygon points="25,130 85,130 80,15 30,15" fill="#e5e7eb" stroke="#666" stroke-width="1"/>
      <!-- Windows -->
      <rect x="38" y="25" width="12" height="18" fill="#87ceeb" stroke="#666"/>
      <rect x="58" y="25" width="12" height="18" fill="#87ceeb" stroke="#666"/>
      <rect x="38" y="55" width="12" height="18" fill="#87ceeb" stroke="#666"/>
      <rect x="58" y="55" width="12" height="18" fill="#87ceeb" stroke="#666"/>
      <rect x="38" y="85" width="12" height="18" fill="#87ceeb" stroke="#666"/>
      <rect x="58" y="85" width="12" height="18" fill="#87ceeb" stroke="#666"/>
      <!-- Door -->
      <rect x="45" y="105" width="20" height="25" fill="#8B4513" stroke="#666"/>
      <text x="55" y="155" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Verticals converging</text>
    </g>

    <!-- Arrow -->
    <line x1="160" y1="115" x2="200" y2="115" stroke="#10b981" stroke-width="2" marker-end="url(#perspArrow)"/>

    <!-- Corrected building -->
    <g transform="translate(210, 45)">
      <text x="55" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Corrected</text>
      <!-- Building with parallel verticals -->
      <rect x="20" y="15" width="70" height="115" fill="#e5e7eb" stroke="#10b981" stroke-width="2"/>
      <!-- Windows -->
      <rect x="30" y="25" width="15" height="20" fill="#87ceeb" stroke="#666"/>
      <rect x="55" y="25" width="15" height="20" fill="#87ceeb" stroke="#666"/>
      <rect x="30" y="55" width="15" height="20" fill="#87ceeb" stroke="#666"/>
      <rect x="55" y="55" width="15" height="20" fill="#87ceeb" stroke="#666"/>
      <rect x="30" y="85" width="15" height="20" fill="#87ceeb" stroke="#666"/>
      <rect x="55" y="85" width="15" height="20" fill="#87ceeb" stroke="#666"/>
      <!-- Door -->
      <rect x="42" y="105" width="25" height="25" fill="#8B4513" stroke="#666"/>
      <text x="55" y="155" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Parallel verticals</text>
    </g>

    <!-- Applications list -->
    <g transform="translate(20, 210)">
      <text x="0" y="15" fill="#333" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600">Common Applications:</text>
      <text x="10" y="35" fill="#666" font-family="Segoe UI, sans-serif" font-size="10">• Document scanning (phone → flat scan)</text>
      <text x="10" y="52" fill="#666" font-family="Segoe UI, sans-serif" font-size="10">• Architectural photography correction</text>
      <text x="10" y="69" fill="#666" font-family="Segoe UI, sans-serif" font-size="10">• Whiteboard capture and rectification</text>
    </g>
  </g>
</svg>
