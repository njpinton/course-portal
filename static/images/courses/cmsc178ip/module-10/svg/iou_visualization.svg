<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" role="img" aria-label="IoU (Intersection over Union) visualization showing how bounding box overlap is calculated">
  <title>Intersection over Union (IoU)</title>
  <desc>Visual explanation of IoU metric with ground truth and predicted bounding boxes</desc>

  <defs>
    <pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="8" height="8">
      <path d="M-2,2 l4,-4 M0,8 l8,-8 M6,10 l4,-4" stroke="#10b981" stroke-width="1.5"/>
    </pattern>
    <linearGradient id="iouBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
    <linearGradient id="iouScaleGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="50%" style="stop-color:#fbbf24"/>
      <stop offset="100%" style="stop-color:#10b981"/>
    </linearGradient>
  </defs>

  <rect width="800" height="400" fill="url(#iouBg)" rx="8"/>

  <!-- Title -->
  <text x="400" y="35" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Intersection over Union (IoU)</text>

  <!-- Left: Visual diagram -->
  <g transform="translate(80, 80)">
    <!-- Union area (light blue background) -->
    <rect x="20" y="20" width="200" height="200" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" rx="4"/>

    <!-- Ground truth box (green) -->
    <rect x="40" y="40" width="140" height="140" fill="none" stroke="#10b981" stroke-width="4" stroke-dasharray="8,4"/>
    <text x="110" y="195" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Ground Truth</text>

    <!-- Predicted box (blue) -->
    <rect x="80" y="80" width="140" height="140" fill="none" stroke="#3b82f6" stroke-width="4"/>
    <text x="150" y="235" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Predicted</text>

    <!-- Intersection area (hatched) -->
    <rect x="80" y="80" width="100" height="100" fill="url(#diagonalHatch)" opacity="0.8"/>

    <!-- Labels -->
    <g transform="translate(250, 60)">
      <rect x="0" y="0" width="20" height="20" fill="url(#diagonalHatch)" stroke="#10b981" stroke-width="1"/>
      <text x="30" y="15" fill="#333" font-family="Segoe UI, sans-serif" font-size="13">Intersection</text>

      <rect x="0" y="35" width="20" height="20" fill="#dbeafe" stroke="#3b82f6" stroke-width="1"/>
      <text x="30" y="50" fill="#333" font-family="Segoe UI, sans-serif" font-size="13">Union</text>
    </g>
  </g>

  <!-- Right: Formula and examples -->
  <g transform="translate(420, 80)">
    <!-- Formula box -->
    <rect x="0" y="0" width="340" height="80" fill="white" rx="8" stroke="#1a3a6e" stroke-width="2"/>
    <text x="100" y="42" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="22" font-weight="600" text-anchor="middle">IoU = </text>
    <text x="210" y="30" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="14" text-anchor="middle">Area of Intersection</text>
    <line x1="150" y1="40" x2="270" y2="40" stroke="#1a3a6e" stroke-width="2"/>
    <text x="210" y="60" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="14" text-anchor="middle">Area of Union</text>

    <!-- IoU scale -->
    <g transform="translate(0, 110)">
      <text x="0" y="0" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600">IoU Thresholds:</text>

      <!-- Scale bar -->
      <rect x="0" y="20" width="340" height="30" fill="url(#iouScaleGrad)" rx="4"/>

      <!-- Tick marks -->
      <text x="0" y="65" fill="#666" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="start">0.0</text>
      <text x="170" y="65" fill="#666" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="middle">0.5</text>
      <text x="340" y="65" fill="#666" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="end">1.0</text>

      <!-- Threshold line at 0.5 -->
      <line x1="170" y1="15" x2="170" y2="55" stroke="#1a3a6e" stroke-width="2" stroke-dasharray="4,2"/>
      <text x="170" y="10" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">Threshold</text>
    </g>

    <!-- Examples -->
    <g transform="translate(0, 200)">
      <text x="0" y="0" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600">Common Thresholds:</text>

      <g transform="translate(0, 25)">
        <circle cx="8" cy="8" r="8" fill="#ef4444"/>
        <text x="25" y="13" fill="#333" font-family="Segoe UI, sans-serif" font-size="12"><tspan font-weight="600">IoU &lt; 0.5:</tspan> Poor match</text>
      </g>

      <g transform="translate(0, 55)">
        <circle cx="8" cy="8" r="8" fill="#fbbf24"/>
        <text x="25" y="13" fill="#333" font-family="Segoe UI, sans-serif" font-size="12"><tspan font-weight="600">IoU >= 0.5:</tspan> PASCAL VOC standard</text>
      </g>

      <g transform="translate(0, 85)">
        <circle cx="8" cy="8" r="8" fill="#10b981"/>
        <text x="25" y="13" fill="#333" font-family="Segoe UI, sans-serif" font-size="12"><tspan font-weight="600">IoU >= 0.75:</tspan> Strict match (COCO)</text>
      </g>
    </g>
  </g>

  <!-- Example calculation -->
  <g transform="translate(100, 330)">
    <text x="0" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="13">
      Example: Intersection = 10,000 px, Union = 19,600 px -> <tspan fill="#1a3a6e" font-weight="600">IoU = 0.51</tspan> (match!)
    </text>
  </g>
</svg>