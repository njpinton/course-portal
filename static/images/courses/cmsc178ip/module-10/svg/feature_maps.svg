<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" role="img" aria-label="CNN Feature Maps Visualization">
  <title>Feature Maps in CNNs</title>
  <desc>Visualization of how convolutional neural network layers progressively extract features from low-level edges to high-level semantic concepts</desc>

  <defs>
    <linearGradient id="inputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f5e9"/>
      <stop offset="100%" style="stop-color:#c8e6c9"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" fill="#1a3a6e">Feature Maps: What CNNs "See" at Each Layer</text>

  <!-- Input Image -->
  <g transform="translate(30, 60)">
    <text x="50" y="0" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600" fill="#333">Input Image</text>
    <rect x="0" y="10" width="100" height="100" fill="#fff" stroke="#333" stroke-width="2"/>
    <!-- Simple cat face representation -->
    <ellipse cx="50" cy="55" rx="35" ry="30" fill="#d4a574"/>
    <!-- Ears -->
    <polygon points="25,35 15,15 35,25" fill="#c49664"/>
    <polygon points="75,35 85,15 65,25" fill="#c49664"/>
    <!-- Eyes -->
    <ellipse cx="38" cy="50" rx="8" ry="10" fill="#fff"/>
    <ellipse cx="62" cy="50" rx="8" ry="10" fill="#fff"/>
    <circle cx="38" cy="52" r="4" fill="#333"/>
    <circle cx="62" cy="52" r="4" fill="#333"/>
    <!-- Nose -->
    <ellipse cx="50" cy="65" rx="5" ry="3" fill="#333"/>
    <!-- Whiskers -->
    <line x1="20" y1="62" x2="40" y2="65" stroke="#333" stroke-width="1"/>
    <line x1="20" y1="68" x2="40" y2="68" stroke="#333" stroke-width="1"/>
    <line x1="60" y1="65" x2="80" y2="62" stroke="#333" stroke-width="1"/>
    <line x1="60" y1="68" x2="80" y2="68" stroke="#333" stroke-width="1"/>
    <text x="50" y="130" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#666">224×224×3</text>
  </g>

  <!-- Arrow -->
  <path d="M140,110 L170,110" stroke="#1a3a6e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1a3a6e"/>
    </marker>
  </defs>

  <!-- Layer 1: Edge Detection -->
  <g transform="translate(180, 55)">
    <text x="65" y="0" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#1976d2">Layer 1: Edges</text>
    <rect x="0" y="10" width="130" height="110" rx="4" fill="#e3f2fd" stroke="#1976d2"/>

    <!-- Feature map 1: Horizontal edges -->
    <rect x="10" y="20" width="50" height="40" fill="#fff" stroke="#1976d2"/>
    <line x1="15" y1="30" x2="55" y2="30" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="40" x2="55" y2="40" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="50" x2="55" y2="50" stroke="#333" stroke-width="2"/>
    <text x="35" y="70" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Horizontal</text>

    <!-- Feature map 2: Vertical edges -->
    <rect x="70" y="20" width="50" height="40" fill="#fff" stroke="#1976d2"/>
    <line x1="80" y1="25" x2="80" y2="55" stroke="#333" stroke-width="2"/>
    <line x1="95" y1="25" x2="95" y2="55" stroke="#333" stroke-width="2"/>
    <line x1="110" y1="25" x2="110" y2="55" stroke="#333" stroke-width="2"/>
    <text x="95" y="70" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Vertical</text>

    <!-- Feature map 3: Diagonal -->
    <rect x="10" y="78" width="50" height="35" fill="#fff" stroke="#1976d2"/>
    <line x1="15" y1="108" x2="55" y2="83" stroke="#333" stroke-width="2"/>
    <text x="35" y="123" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Diagonal</text>

    <!-- Feature map 4: Curves -->
    <rect x="70" y="78" width="50" height="35" fill="#fff" stroke="#1976d2"/>
    <path d="M75,95 Q95,80 115,95" fill="none" stroke="#333" stroke-width="2"/>
    <text x="95" y="123" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Curves</text>
  </g>

  <!-- Arrow -->
  <path d="M320,110 L350,110" stroke="#1a3a6e" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Layer 2-3: Textures & Patterns -->
  <g transform="translate(360, 55)">
    <text x="65" y="0" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#43a047">Layer 2-3: Textures</text>
    <rect x="0" y="10" width="130" height="110" rx="4" fill="#e8f5e9" stroke="#43a047"/>

    <!-- Fur texture -->
    <rect x="10" y="20" width="50" height="40" fill="#fff" stroke="#43a047"/>
    <g stroke="#8d6e63" stroke-width="1">
      <line x1="15" y1="25" x2="20" y2="30"/>
      <line x1="25" y1="23" x2="30" y2="28"/>
      <line x1="35" y1="25" x2="40" y2="30"/>
      <line x1="45" y1="23" x2="50" y2="28"/>
      <line x1="18" y1="35" x2="23" y2="40"/>
      <line x1="28" y1="33" x2="33" y2="38"/>
      <line x1="38" y1="35" x2="43" y2="40"/>
      <line x1="48" y1="33" x2="53" y2="38"/>
      <line x1="15" y1="45" x2="20" y2="50"/>
      <line x1="25" y1="43" x2="30" y2="48"/>
      <line x1="35" y1="45" x2="40" y2="50"/>
      <line x1="45" y1="43" x2="50" y2="48"/>
    </g>
    <text x="35" y="70" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Fur texture</text>

    <!-- Eye pattern -->
    <rect x="70" y="20" width="50" height="40" fill="#fff" stroke="#43a047"/>
    <ellipse cx="95" cy="40" rx="15" ry="12" fill="#e0e0e0" stroke="#333"/>
    <circle cx="95" cy="40" r="5" fill="#333"/>
    <circle cx="97" cy="38" r="2" fill="#fff"/>
    <text x="95" y="70" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Eye pattern</text>

    <!-- Ear shape -->
    <rect x="10" y="78" width="50" height="35" fill="#fff" stroke="#43a047"/>
    <polygon points="35,108 20,85 50,85" fill="#d4a574" stroke="#333"/>
    <text x="35" y="123" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Ear shape</text>

    <!-- Whisker pattern -->
    <rect x="70" y="78" width="50" height="35" fill="#fff" stroke="#43a047"/>
    <line x1="75" y1="90" x2="115" y2="88" stroke="#333" stroke-width="1"/>
    <line x1="75" y1="95" x2="115" y2="95" stroke="#333" stroke-width="1"/>
    <line x1="75" y1="100" x2="115" y2="102" stroke="#333" stroke-width="1"/>
    <text x="95" y="123" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Whiskers</text>
  </g>

  <!-- Arrow -->
  <path d="M500,110 L530,110" stroke="#1a3a6e" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Layer 4-5: Parts & Objects -->
  <g transform="translate(540, 55)">
    <text x="65" y="0" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#f57c00">Layer 4-5: Parts</text>
    <rect x="0" y="10" width="130" height="110" rx="4" fill="#fff3e0" stroke="#f57c00"/>

    <!-- Cat eye -->
    <rect x="10" y="20" width="50" height="40" fill="#fff" stroke="#f57c00"/>
    <ellipse cx="35" cy="40" rx="18" ry="14" fill="#fff" stroke="#333"/>
    <ellipse cx="35" cy="40" rx="10" ry="10" fill="#90caf9"/>
    <circle cx="35" cy="40" r="5" fill="#333"/>
    <circle cx="38" cy="37" r="2" fill="#fff"/>
    <text x="35" y="70" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Cat eye</text>

    <!-- Cat ear -->
    <rect x="70" y="20" width="50" height="40" fill="#fff" stroke="#f57c00"/>
    <polygon points="95,55 75,25 115,25" fill="#d4a574" stroke="#8d6e63"/>
    <polygon points="95,50 82,30 108,30" fill="#ffccbc"/>
    <text x="95" y="70" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Cat ear</text>

    <!-- Cat nose -->
    <rect x="10" y="78" width="50" height="35" fill="#fff" stroke="#f57c00"/>
    <ellipse cx="35" cy="93" rx="12" ry="8" fill="#333"/>
    <ellipse cx="35" cy="91" rx="4" ry="3" fill="#666"/>
    <text x="35" y="123" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Cat nose</text>

    <!-- Face outline -->
    <rect x="70" y="78" width="50" height="35" fill="#fff" stroke="#f57c00"/>
    <ellipse cx="95" cy="95" rx="18" ry="14" fill="none" stroke="#8d6e63" stroke-width="2"/>
    <text x="95" y="123" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="8" fill="#666">Face shape</text>
  </g>

  <!-- Arrow to output -->
  <path d="M680,110 L710,110" stroke="#1a3a6e" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Final Classification -->
  <g transform="translate(720, 60)">
    <text x="35" y="0" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" fill="#7b1fa2">Output</text>
    <rect x="0" y="10" width="70" height="100" rx="4" fill="#f3e5f5" stroke="#7b1fa2"/>
    <text x="35" y="35" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" fill="#7b1fa2">Cat</text>
    <text x="35" y="52" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="18" font-weight="600" fill="#4caf50">94.2%</text>
    <text x="35" y="75" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#666">Dog: 3.1%</text>
    <text x="35" y="90" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#666">Tiger: 1.5%</text>
    <text x="35" y="105" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="9" fill="#666">...</text>
  </g>

  <!-- Explanation panel -->
  <g transform="translate(30, 200)">
    <rect x="0" y="0" width="740" height="230" rx="8" fill="#fff" stroke="#ddd"/>
    <text x="370" y="25" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="16" font-weight="600" fill="#1a3a6e">Feature Hierarchy: From Simple to Complex</text>

    <!-- Layer progression explanation -->
    <g transform="translate(30, 45)">
      <!-- Early layers -->
      <rect x="0" y="0" width="160" height="80" rx="4" fill="#e3f2fd"/>
      <text x="80" y="20" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" fill="#1976d2">Early Layers (1-2)</text>
      <text x="80" y="38" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Simple edges</text>
      <text x="80" y="52" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Color gradients</text>
      <text x="80" y="66" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Basic shapes</text>
    </g>

    <g transform="translate(200, 45)">
      <!-- Middle layers -->
      <rect x="0" y="0" width="160" height="80" rx="4" fill="#e8f5e9"/>
      <text x="80" y="20" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" fill="#43a047">Middle Layers (3-4)</text>
      <text x="80" y="38" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Textures</text>
      <text x="80" y="52" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Patterns</text>
      <text x="80" y="66" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Small parts</text>
    </g>

    <g transform="translate(370, 45)">
      <!-- Deep layers -->
      <rect x="0" y="0" width="160" height="80" rx="4" fill="#fff3e0"/>
      <text x="80" y="20" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" fill="#f57c00">Deep Layers (5+)</text>
      <text x="80" y="38" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Object parts</text>
      <text x="80" y="52" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Semantic meaning</text>
      <text x="80" y="66" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Class-specific</text>
    </g>

    <g transform="translate(540, 45)">
      <!-- Final layers -->
      <rect x="0" y="0" width="160" height="80" rx="4" fill="#f3e5f5"/>
      <text x="80" y="20" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" fill="#7b1fa2">Final Layers</text>
      <text x="80" y="38" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Whole objects</text>
      <text x="80" y="52" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Abstract concepts</text>
      <text x="80" y="66" text-anchor="middle" font-family="Segoe UI, sans-serif" font-size="10" fill="#333">• Classification</text>
    </g>

    <!-- Key insights -->
    <g transform="translate(30, 140)">
      <text x="0" y="15" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" fill="#1a3a6e">Key Insights:</text>
      <text x="0" y="35" font-family="Segoe UI, sans-serif" font-size="11" fill="#333">• Each layer builds on the previous layer's features (compositionality)</text>
      <text x="0" y="52" font-family="Segoe UI, sans-serif" font-size="11" fill="#333">• Early layer features transfer well across tasks (transfer learning)</text>
      <text x="0" y="69" font-family="Segoe UI, sans-serif" font-size="11" fill="#333">• Deeper layers are more task-specific and may require fine-tuning</text>
      <text x="0" y="86" font-family="Segoe UI, sans-serif" font-size="11" fill="#333">• Feature maps can be visualized using gradient-based techniques (Grad-CAM, etc.)</text>
    </g>
  </g>
</svg>