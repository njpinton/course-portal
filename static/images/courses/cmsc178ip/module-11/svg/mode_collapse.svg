<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Mode collapse problem in GAN training">
  <title>Mode Collapse</title>
  <desc>Visualization of mode collapse where generator produces limited variety of outputs instead of full data distribution</desc>

  <defs>
    <linearGradient id="modeBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#modeBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Mode Collapse: A Common GAN Problem</text>

  <!-- Expected vs Collapsed -->
  <g transform="translate(30, 55)">
    <!-- Expected output -->
    <rect x="0" y="0" width="385" height="200" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="192" y="25" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600" text-anchor="middle">Expected: Diverse Outputs</text>

    <g transform="translate(20, 45)">
      <!-- Multiple different faces -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#dbeafe" rx="4" stroke="#3b82f6"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#fcd34d"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,42 Q32,50 39,42" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(75, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#dbeafe" rx="4" stroke="#3b82f6"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#d4a574"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,40 L39,40" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(150, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#dbeafe" rx="4" stroke="#3b82f6"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#ffe4c4"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,45 Q32,38 39,45" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(225, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#dbeafe" rx="4" stroke="#3b82f6"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#8b4513"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,42 Q32,48 39,42" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(300, 0)">
        <rect x="0" y="0" width="40" height="65" fill="#d1fae5" rx="4"/>
        <text x="20" y="38" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="14" text-anchor="middle">...</text>
      </g>

      <!-- Label -->
      <text x="172" y="90" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="middle" font-weight="600">Captures all modes of data distribution</text>

      <!-- Distribution diagram -->
      <g transform="translate(60, 100)">
        <text x="110" y="10" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Data Distribution</text>
        <ellipse cx="50" cy="40" rx="30" ry="20" fill="#dbeafe" opacity="0.7"/>
        <ellipse cx="110" cy="40" rx="30" ry="20" fill="#d1fae5" opacity="0.7"/>
        <ellipse cx="170" cy="40" rx="30" ry="20" fill="#fef3c7" opacity="0.7"/>
        <text x="50" y="45" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Mode 1</text>
        <text x="110" y="45" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Mode 2</text>
        <text x="170" y="45" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Mode 3</text>
      </g>
    </g>
  </g>

  <!-- Mode collapse -->
  <g transform="translate(435, 55)">
    <rect x="0" y="0" width="385" height="200" fill="white" rx="8" stroke="#ef4444" stroke-width="2"/>
    <text x="192" y="25" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600" text-anchor="middle">Mode Collapse: Same Outputs!</text>

    <g transform="translate(20, 45)">
      <!-- Same face repeated -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#fef2f2" rx="4" stroke="#ef4444"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#fcd34d"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,42 Q32,50 39,42" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(75, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#fef2f2" rx="4" stroke="#ef4444"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#fcd34d"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,42 Q32,50 39,42" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(150, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#fef2f2" rx="4" stroke="#ef4444"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#fcd34d"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,42 Q32,50 39,42" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(225, 0)">
        <rect x="0" y="0" width="65" height="65" fill="#fef2f2" rx="4" stroke="#ef4444"/>
        <ellipse cx="32" cy="32" rx="22" ry="25" fill="#fcd34d"/>
        <circle cx="24" cy="28" r="4" fill="#333"/>
        <circle cx="40" cy="28" r="4" fill="#333"/>
        <path d="M25,42 Q32,50 39,42" fill="none" stroke="#333" stroke-width="2"/>
      </g>

      <g transform="translate(300, 0)">
        <rect x="0" y="0" width="40" height="65" fill="#fef2f2" rx="4"/>
        <text x="20" y="38" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="14" text-anchor="middle">...</text>
      </g>

      <!-- Label -->
      <text x="172" y="90" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="11" text-anchor="middle" font-weight="600">Generator produces only ONE type</text>

      <!-- Distribution diagram -->
      <g transform="translate(60, 100)">
        <text x="110" y="10" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Generator Distribution</text>
        <ellipse cx="50" cy="40" rx="30" ry="20" fill="#e5e7eb" opacity="0.5"/>
        <ellipse cx="110" cy="40" rx="30" ry="20" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
        <ellipse cx="170" cy="40" rx="30" ry="20" fill="#e5e7eb" opacity="0.5"/>
        <text x="50" y="45" fill="#9ca3af" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Ignored</text>
        <text x="110" y="45" fill="#ef4444" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Collapsed!</text>
        <text x="170" y="45" fill="#9ca3af" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Ignored</text>
      </g>
    </g>
  </g>

  <!-- Why it happens -->
  <g transform="translate(30, 270)">
    <rect x="0" y="0" width="385" height="105" fill="white" rx="8" stroke="#f97316" stroke-width="2"/>
    <text x="192" y="22" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Why Mode Collapse Happens</text>

    <g transform="translate(15, 40)" font-family="Segoe UI, sans-serif" font-size="9">
      <circle cx="5" cy="8" r="3" fill="#f97316"/>
      <text x="15" y="12" fill="#666">Generator finds one output that fools D well</text>

      <circle cx="5" cy="28" r="3" fill="#f97316"/>
      <text x="15" y="32" fill="#666">Keeps producing that same output (local optimum)</text>

      <circle cx="5" cy="48" r="3" fill="#f97316"/>
      <text x="15" y="52" fill="#666">D adapts, but G keeps cycling through few modes</text>
    </g>
  </g>

  <!-- Solutions -->
  <g transform="translate(435, 270)">
    <rect x="0" y="0" width="385" height="105" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="192" y="22" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="12" font-weight="600" text-anchor="middle">Solutions</text>

    <g transform="translate(15, 40)" font-family="Segoe UI, sans-serif" font-size="9">
      <circle cx="5" cy="8" r="3" fill="#10b981"/>
      <text x="15" y="12" fill="#666">Mini-batch discrimination (D sees multiple samples)</text>

      <circle cx="5" cy="28" r="3" fill="#10b981"/>
      <text x="15" y="32" fill="#666">Unrolled GANs (G looks ahead at D's response)</text>

      <circle cx="5" cy="48" r="3" fill="#10b981"/>
      <text x="15" y="52" fill="#666">Use Wasserstein loss (WGAN) for better gradients</text>
    </g>
  </g>
</svg>
