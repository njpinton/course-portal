<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Histogram of Oriented Gradients feature extraction">
  <title>HOG Features</title>
  <desc>Histogram of Oriented Gradients for object detection showing cell-based gradient histograms</desc>

  <defs>
    <linearGradient id="hogBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#hogBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">HOG: Histogram of Oriented Gradients</text>

  <!-- Pipeline -->
  <g transform="translate(30, 65)">
    <!-- Step 1: Image -->
    <g transform="translate(0, 0)">
      <rect x="0" y="0" width="130" height="130" fill="white" rx="6" stroke="#666" stroke-width="2"/>
      <text x="65" y="-8" fill="#666" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">1. Input</text>
      <rect x="15" y="20" width="100" height="90" fill="#888" rx="3"/>
      <!-- Person silhouette -->
      <ellipse cx="65" cy="40" rx="15" ry="18" fill="#555"/>
      <rect cx="65" cy="75" width="30" height="40" x="50" y="55" fill="#555" rx="3"/>
    </g>

    <!-- Arrow -->
    <text x="145" y="65" fill="#333" font-family="Segoe UI, sans-serif" font-size="20">→</text>

    <!-- Step 2: Gradient -->
    <g transform="translate(170, 0)">
      <rect x="0" y="0" width="130" height="130" fill="white" rx="6" stroke="#3b82f6" stroke-width="2"/>
      <text x="65" y="-8" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">2. Gradients</text>
      <rect x="15" y="20" width="100" height="90" fill="#1a1a2e" rx="3"/>
      <!-- Gradient arrows -->
      <g stroke="white" stroke-width="1.5" fill="none">
        <line x1="35" y1="40" x2="35" y2="30"/>
        <line x1="55" y1="45" x2="65" y2="35"/>
        <line x1="75" y1="40" x2="75" y2="30"/>
        <line x1="95" y1="45" x2="85" y2="35"/>
        <line x1="40" y1="65" x2="30" y2="65"/>
        <line x1="90" y1="65" x2="100" y2="65"/>
        <line x1="45" y1="85" x2="55" y2="95"/>
        <line x1="75" y1="85" x2="65" y2="95"/>
      </g>
    </g>

    <!-- Arrow -->
    <text x="315" y="65" fill="#333" font-family="Segoe UI, sans-serif" font-size="20">→</text>

    <!-- Step 3: Cells -->
    <g transform="translate(340, 0)">
      <rect x="0" y="0" width="130" height="130" fill="white" rx="6" stroke="#10b981" stroke-width="2"/>
      <text x="65" y="-8" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">3. Cell Histograms</text>
      <!-- Grid of cells -->
      <g transform="translate(15, 20)">
        <g stroke="#10b981" fill="#d1fae5">
          <rect x="0" y="0" width="25" height="22"/>
          <rect x="25" y="0" width="25" height="22"/>
          <rect x="50" y="0" width="25" height="22"/>
          <rect x="75" y="0" width="25" height="22"/>
          <rect x="0" y="22" width="25" height="22"/>
          <rect x="25" y="22" width="25" height="22"/>
          <rect x="50" y="22" width="25" height="22"/>
          <rect x="75" y="22" width="25" height="22"/>
          <rect x="0" y="44" width="25" height="22"/>
          <rect x="25" y="44" width="25" height="22"/>
          <rect x="50" y="44" width="25" height="22"/>
          <rect x="75" y="44" width="25" height="22"/>
          <rect x="0" y="66" width="25" height="24"/>
          <rect x="25" y="66" width="25" height="24"/>
          <rect x="50" y="66" width="25" height="24"/>
          <rect x="75" y="66" width="25" height="24"/>
        </g>
      </g>
      <text x="65" y="120" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">8×8 pixel cells</text>
    </g>

    <!-- Arrow -->
    <text x="485" y="65" fill="#333" font-family="Segoe UI, sans-serif" font-size="20">→</text>

    <!-- Step 4: Blocks -->
    <g transform="translate(510, 0)">
      <rect x="0" y="0" width="130" height="130" fill="white" rx="6" stroke="#f97316" stroke-width="2"/>
      <text x="65" y="-8" fill="#f97316" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">4. Block Normalize</text>
      <!-- 2x2 blocks -->
      <g transform="translate(15, 20)">
        <rect x="0" y="0" width="50" height="44" fill="none" stroke="#f97316" stroke-width="3"/>
        <rect x="25" y="22" width="50" height="44" fill="none" stroke="#ea580c" stroke-width="2" stroke-dasharray="4,2"/>
        <rect x="50" y="0" width="50" height="44" fill="none" stroke="#f97316" stroke-width="3"/>
      </g>
      <text x="65" y="95" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">2×2 cell blocks</text>
      <text x="65" y="108" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Sliding window</text>
    </g>

    <!-- Arrow -->
    <text x="655" y="65" fill="#333" font-family="Segoe UI, sans-serif" font-size="20">→</text>

    <!-- Step 5: Vector -->
    <g transform="translate(680, 0)">
      <rect x="0" y="0" width="130" height="130" fill="white" rx="6" stroke="#7c3aed" stroke-width="2"/>
      <text x="65" y="-8" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">5. Feature Vector</text>
      <!-- Vector bars -->
      <g transform="translate(15, 25)">
        <rect x="0" y="0" width="8" height="60" fill="#7c3aed" opacity="0.3"/>
        <rect x="12" y="10" width="8" height="50" fill="#7c3aed" opacity="0.5"/>
        <rect x="24" y="25" width="8" height="35" fill="#7c3aed" opacity="0.4"/>
        <rect x="36" y="5" width="8" height="55" fill="#7c3aed" opacity="0.6"/>
        <text x="52" y="35" fill="#666" font-family="Segoe UI, sans-serif" font-size="10">...</text>
        <rect x="68" y="15" width="8" height="45" fill="#7c3aed" opacity="0.5"/>
        <rect x="80" y="20" width="8" height="40" fill="#7c3aed" opacity="0.4"/>
        <rect x="92" y="0" width="8" height="60" fill="#7c3aed" opacity="0.7"/>
      </g>
      <text x="65" y="100" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">3780-D vector</text>
      <text x="65" y="115" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">(64×128 window)</text>
    </g>
  </g>

  <!-- Histogram detail -->
  <g transform="translate(30, 220)">
    <rect x="0" y="0" width="340" height="155" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="170" y="25" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">Cell Histogram (9 bins)</text>

    <g transform="translate(30, 45)">
      <!-- Histogram bars -->
      <rect x="0" y="60" width="25" height="25" fill="#10b981" opacity="0.4"/>
      <rect x="30" y="45" width="25" height="40" fill="#10b981" opacity="0.5"/>
      <rect x="60" y="20" width="25" height="65" fill="#10b981" opacity="0.7"/>
      <rect x="90" y="35" width="25" height="50" fill="#10b981" opacity="0.6"/>
      <rect x="120" y="55" width="25" height="30" fill="#10b981" opacity="0.5"/>
      <rect x="150" y="50" width="25" height="35" fill="#10b981" opacity="0.5"/>
      <rect x="180" y="30" width="25" height="55" fill="#10b981" opacity="0.6"/>
      <rect x="210" y="40" width="25" height="45" fill="#10b981" opacity="0.5"/>
      <rect x="240" y="65" width="25" height="20" fill="#10b981" opacity="0.4"/>

      <!-- Angle labels -->
      <text x="12" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">0°</text>
      <text x="72" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">40°</text>
      <text x="132" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">80°</text>
      <text x="192" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">120°</text>
      <text x="252" y="100" fill="#666" font-family="Segoe UI, sans-serif" font-size="7" text-anchor="middle">160°</text>
    </g>
    <text x="170" y="145" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Unsigned gradients (0°-180°)</text>
  </g>

  <!-- Properties and applications -->
  <g transform="translate(390, 220)">
    <rect x="0" y="0" width="430" height="155" fill="white" rx="8" stroke="#7c3aed" stroke-width="2"/>
    <text x="215" y="25" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="13" font-weight="600" text-anchor="middle">HOG Properties &amp; Applications</text>

    <g transform="translate(20, 45)">
      <!-- Properties -->
      <g transform="translate(0, 0)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600">Properties:</text>
        <text x="0" y="18" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Captures edge/gradient structure</text>
        <text x="0" y="33" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Block normalization → lighting invariance</text>
        <text x="0" y="48" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Dense representation (whole window)</text>
        <text x="0" y="63" fill="#666" font-family="Segoe UI, sans-serif" font-size="9">• Often used with SVM classifier</text>
      </g>

      <!-- Applications -->
      <g transform="translate(210, 0)">
        <text x="0" y="0" fill="#333" font-family="Segoe UI, sans-serif" font-size="10" font-weight="600">Applications:</text>
        <text x="0" y="18" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9">✓ Pedestrian detection</text>
        <text x="0" y="33" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9">✓ Face detection</text>
        <text x="0" y="48" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="9">✓ Object recognition</text>
        <text x="0" y="63" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="9">cv2.HOGDescriptor()</text>
      </g>
    </g>

    <rect x="20" y="120" width="390" height="22" fill="#f5f3ff" rx="4"/>
    <text x="215" y="135" fill="#7c3aed" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Dalal &amp; Triggs (2005) - Classic pedestrian detector before deep learning</text>
  </g>
</svg>
