<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 400" role="img" aria-label="Hough transform for line and circle detection">
  <title>Hough Transform</title>
  <desc>Visualization of Hough transform for detecting lines and circles in images</desc>

  <defs>
    <linearGradient id="houghBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa"/>
      <stop offset="100%" style="stop-color:#e9ecef"/>
    </linearGradient>
  </defs>

  <rect width="850" height="400" fill="url(#houghBg)" rx="8"/>

  <!-- Title -->
  <text x="425" y="32" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="20" font-weight="600" text-anchor="middle">Hough Transform</text>

  <!-- Line Detection -->
  <g transform="translate(30, 60)">
    <rect x="0" y="0" width="390" height="310" fill="white" rx="8" stroke="#3b82f6" stroke-width="2"/>
    <text x="195" y="25" fill="#3b82f6" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600" text-anchor="middle">Hough Lines</text>

    <!-- Image space -->
    <g transform="translate(20, 45)">
      <text x="70" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Image Space (x, y)</text>
      <rect x="0" y="10" width="140" height="100" fill="#1a1a2e" rx="4"/>
      <!-- Edge points on a line -->
      <g fill="#10b981">
        <circle cx="20" cy="90" r="4"/>
        <circle cx="40" cy="70" r="4"/>
        <circle cx="60" cy="55" r="4"/>
        <circle cx="80" cy="40" r="4"/>
        <circle cx="100" cy="25" r="4"/>
        <circle cx="120" cy="20" r="4"/>
      </g>
      <!-- Detected line -->
      <line x1="10" y1="100" x2="130" y2="15" stroke="#ef4444" stroke-width="2" stroke-dasharray="4,2"/>
      <text x="70" y="125" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Edge points</text>
    </g>

    <!-- Arrow -->
    <g transform="translate(175, 85)">
      <text x="20" y="20" fill="#333" font-family="Segoe UI, sans-serif" font-size="18">→</text>
    </g>

    <!-- Parameter space -->
    <g transform="translate(210, 45)">
      <text x="80" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Hough Space (ρ, θ)</text>
      <rect x="0" y="10" width="160" height="100" fill="#dbeafe" rx="4"/>
      <!-- Accumulator visualization -->
      <g stroke="#3b82f6" stroke-width="0.5" opacity="0.3">
        <!-- Sinusoidal curves -->
        <path d="M10,60 Q40,30 80,40 Q120,50 150,30" fill="none"/>
        <path d="M10,70 Q40,40 80,50 Q120,60 150,40" fill="none"/>
        <path d="M10,80 Q40,50 80,60 Q120,70 150,50" fill="none"/>
        <path d="M10,50 Q40,20 80,30 Q120,40 150,20" fill="none"/>
      </g>
      <!-- Peak (intersection) -->
      <circle cx="80" cy="45" r="8" fill="#ef4444" opacity="0.8"/>
      <text x="80" y="49" fill="white" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">★</text>
      <text x="80" y="125" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Peak = line parameters</text>
    </g>

    <!-- Formula -->
    <g transform="translate(20, 185)">
      <rect x="0" y="0" width="350" height="50" fill="#f8f9fa" rx="4"/>
      <text x="175" y="20" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">ρ = x·cos(θ) + y·sin(θ)</text>
      <text x="175" y="40" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Each edge point votes for all lines through it</text>
    </g>

    <!-- Code -->
    <g transform="translate(20, 250)">
      <rect x="0" y="0" width="350" height="45" fill="#1e293b" rx="4"/>
      <text x="10" y="18" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">lines = cv2.HoughLinesP(edges,</text>
      <text x="30" y="35" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">rho=1, theta=np.pi/180, threshold=50)</text>
    </g>
  </g>

  <!-- Circle Detection -->
  <g transform="translate(440, 60)">
    <rect x="0" y="0" width="380" height="310" fill="white" rx="8" stroke="#10b981" stroke-width="2"/>
    <text x="190" y="25" fill="#10b981" font-family="Segoe UI, sans-serif" font-size="14" font-weight="600" text-anchor="middle">Hough Circles</text>

    <!-- Image with circles -->
    <g transform="translate(20, 45)">
      <text x="70" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">Image Space</text>
      <rect x="0" y="10" width="140" height="100" fill="#1a1a2e" rx="4"/>
      <!-- Circle edges -->
      <circle cx="50" cy="50" r="25" fill="none" stroke="#10b981" stroke-width="2"/>
      <circle cx="100" cy="75" r="18" fill="none" stroke="#10b981" stroke-width="2"/>
      <!-- Center marks -->
      <circle cx="50" cy="50" r="3" fill="#ef4444"/>
      <circle cx="100" cy="75" r="3" fill="#ef4444"/>
      <text x="70" y="125" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Detected circles</text>
    </g>

    <!-- Parameter space concept -->
    <g transform="translate(180, 45)">
      <text x="90" y="0" fill="#666" font-family="Segoe UI, sans-serif" font-size="10" text-anchor="middle">3D Hough Space (a, b, r)</text>
      <rect x="0" y="10" width="180" height="100" fill="#d1fae5" rx="4"/>
      <!-- 3D axes hint -->
      <line x1="30" y1="90" x2="150" y2="90" stroke="#666" stroke-width="1"/>
      <line x1="30" y1="90" x2="30" y2="20" stroke="#666" stroke-width="1"/>
      <line x1="30" y1="90" x2="10" y2="110" stroke="#666" stroke-width="1"/>
      <text x="155" y="95" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">a</text>
      <text x="22" y="25" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">b</text>
      <text x="5" y="115" fill="#666" font-family="Segoe UI, sans-serif" font-size="8">r</text>
      <!-- Peaks -->
      <circle cx="70" cy="55" r="8" fill="#ef4444" opacity="0.7"/>
      <circle cx="120" cy="70" r="6" fill="#ef4444" opacity="0.7"/>
      <text x="90" y="125" fill="#666" font-family="Segoe UI, sans-serif" font-size="8" text-anchor="middle">Peaks = (center_x, center_y, radius)</text>
    </g>

    <!-- Formula -->
    <g transform="translate(20, 185)">
      <rect x="0" y="0" width="340" height="50" fill="#f8f9fa" rx="4"/>
      <text x="170" y="20" fill="#1a3a6e" font-family="Segoe UI, sans-serif" font-size="11" font-weight="600" text-anchor="middle">(x - a)² + (y - b)² = r²</text>
      <text x="170" y="40" fill="#666" font-family="Segoe UI, sans-serif" font-size="9" text-anchor="middle">Parameters: center (a, b) and radius r</text>
    </g>

    <!-- Code -->
    <g transform="translate(20, 250)">
      <rect x="0" y="0" width="340" height="45" fill="#1e293b" rx="4"/>
      <text x="10" y="18" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">circles = cv2.HoughCircles(gray,</text>
      <text x="30" y="35" fill="#a78bfa" font-family="Consolas, monospace" font-size="9">cv2.HOUGH_GRADIENT, dp=1, minDist=30)</text>
    </g>
  </g>
</svg>
